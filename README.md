# Golang Restful API
This is a simple restful API for blog system. You could create, update, modify and delete for author and article table.
All of the API use JWT as authorization.

![](https://raw.githubusercontent.com/amosricky/Golang_Restful_API/develop/src/golang_restful_api_doc.png)

## Quick Start
```
# Go get from github
$ go get github.com/amosricky/Golang_Restful_API

# Change path
$ cd $GOPATH/src/Golang_Restful_API/src

# Build docker image
$ docker build -t golang-api . 

# Run it in container
$ docker run -p 8000:8000 golang-api
```

## Swagger document
Run it, and browser to http://localhost:8000/swagger/index.html, you can see Swagger 2.0 Api documents.

## Features
- Use Gin as framework to build up a RESTful API
- Use GORM as orm tool.
- Graceful shutdown.
- Save daily log file.
![](https://raw.githubusercontent.com/amosricky/Golang_Restful_API/develop/src/golang_restful_api_log.png)
- Use JWT token as authorization.
```json
{
    "error_code": 200,
    "error_message": "OK",
    "result": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3ROYW1lMiIsImV4cCI6MTU3Njc4MzY0NywiaXNzIjoiZ2luLWJsb2cifQ.VZDb3T5aI1V6TwTyHdOBUEW5IqXwFgoIOnu3UDCsy40"
    }
}
```
- Use a random salt to encode the password to avoid saving the real password in database.
![](https://raw.githubusercontent.com/amosricky/Golang_Restful_API/develop/src/golang_restful_api_user_db.png)

## How it works
```
.
├── conf
│   └── app.ini                 //System configuration
├── docs                        //Swagger file (Auto generated by CLI - "swag init")  
│   ├── docs.go
│   ├── swagger.json
│   └── swagger.yaml
├── example                     //Define the data structure and example for swagger
│   └── example.go
├── go.mod
├── go.sum
├── main.go
├── pkg
│   ├── models                  //Data models define & DB operation
│   │   ├── article.go
│   │   ├── author.go
│   │   ├── models.go
│   │   └── user.go
│   ├── routers                 //Business logic & Router binding
│   │   ├── api
│   │   │   └── v1
│   │   │       ├── article.go
│   │   │       ├── author.go
│   │   │       ├── image.go
│   │   │       └── user.go
│   │   └── router.go        
│   ├── setting                 //Initialize the configuration
│   │   └── setting.go
│   └── util
│       ├── error_code.go       //Custimized error code and message
│       ├── error.go            //Normalize error structure
│       ├── image.go            //Upload image logic
│       ├── jwt.go              //Generate token and verify token
│       ├── pagination.go       //Count offset
│       └── response.go         //Normalize response structure
...
```


### Required

- Golang >= 1.13
- Docker
